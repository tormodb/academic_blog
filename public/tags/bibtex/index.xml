<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>bibtex | Tormod Bøe</title>
    <link>/tags/bibtex/</link>
      <atom:link href="/tags/bibtex/index.xml" rel="self" type="application/rss+xml" />
    <description>bibtex</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><copyright> © Tormod Bøe 2020</copyright><lastBuildDate>Mon, 30 Dec 2019 00:00:00 +0000</lastBuildDate>
    <image>
      <url>/img/icon-192.png</url>
      <title>bibtex</title>
      <link>/tags/bibtex/</link>
    </image>
    
    <item>
      <title>Building a blogdown publication list from bibtex file (updated)</title>
      <link>/post/building-a-blogdown-publication-list-from-bibtex-file/</link>
      <pubDate>Mon, 30 Dec 2019 00:00:00 +0000</pubDate>
      <guid>/post/building-a-blogdown-publication-list-from-bibtex-file/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;


&lt;blockquote&gt;
&lt;p&gt;The best way to do this now is to follow the guide on the following &lt;a href=&#34;https://sourcethemes.com/academic/docs/managing-content/#create-a-publication&#34;&gt;page&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I tried to build markdown files to use for publication section of my blog programmatically using r. I came close, but not all the way there.&lt;/p&gt;
&lt;p&gt;The following code takes a bibtex file, reads it into r, formats the output and splits each citation out to a separate markdown file. Unfortunately, there were som spaces and formatting errors that I was not able to get rid of, so I had to go through some manual cleaning up afterwards.&lt;/p&gt;
&lt;p&gt;The goal was to get pretty close to this yaml result, as I am using the setup from Rob Hyndman’s excellent site, which he has shared on github.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;---
author: Rob&amp;amp;nbsp;J&amp;amp;nbsp;Hyndman, Shu Fan
comments: false
date: 2014-05-22 01:46:18+00:00
slug: mefm
title: Monash Electricity Forecasting Model
wordpress_id: 2452
kind:
  unpublished
tags:
  - electricity
- forecasting
file: MEFMR1.pdf
---&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;devtools::install_github(&amp;quot;ottlngr/bib2df&amp;quot;)
library(bib2df)
bib &amp;lt;- bib2df(&amp;quot;/.../bibtex_file.bib&amp;quot;, separate_names = F)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;yamllist &amp;lt;- list()
for (i in 1:nrow(bib)) { 
  au &amp;lt;- paste0(&amp;quot;author: &amp;quot;, paste(bib$AUTHOR[[i]], collapse =&amp;quot;, &amp;quot;))
  co &amp;lt;- paste0(&amp;quot;comments: false&amp;quot;)
  yr &amp;lt;- paste0(&amp;quot;date: &amp;#39;&amp;quot;, paste(bib$YEAR[[i]]),&amp;quot;&amp;#39;&amp;quot;)
  date &amp;lt;- paste0(bib$YEAR[[i]])
  slu &amp;lt;- paste0(&amp;quot;slug: &amp;quot;, paste(bib$BIBTEXKEY[[i]]))
  tit &amp;lt;- paste0(&amp;quot;title: &amp;quot;, paste(bib$TITLE[[i]]))
  pub &amp;lt;- paste(&amp;quot;kind:&amp;quot;, &amp;quot;  published&amp;quot;, sep = &amp;quot;\n&amp;quot;)
  name &amp;lt;- paste0(&amp;quot;article&amp;quot;, i, sep = &amp;#39;&amp;#39;)
  # abst &amp;lt;- paste0(bib$ABSTRACT[[i]])
  tmp &amp;lt;- list(au=au, co =co, yr=yr,slu=slu, tit=tit , pub=pub)
  yamllist[[name]] &amp;lt;- tmp
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I did this two times, the second time adding some extra fields…&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;yamllist2 &amp;lt;- list()
for (i in 1:nrow(bib)) { 
  au &amp;lt;- paste0(&amp;quot;author: &amp;quot;, paste(bib$AUTHOR[[i]], collapse =&amp;quot;, &amp;quot;))
  co &amp;lt;- paste0(&amp;quot;comments: false&amp;quot;)
  yr &amp;lt;- paste0(&amp;quot;date: &amp;#39;&amp;quot;, paste(bib$YEAR[[i]]),&amp;quot;&amp;#39;&amp;quot;)
  date &amp;lt;- paste0(bib$YEAR[[i]])
  slu &amp;lt;- paste0(&amp;quot;slug: &amp;quot;, paste(bib$BIBTEXKEY[[i]]))
  tit &amp;lt;- paste0(&amp;quot;title: &amp;quot;, paste(bib$TITLE[[i]]))
  pub &amp;lt;- paste(&amp;quot;kind:&amp;quot;, &amp;quot;  published&amp;quot;, sep = &amp;quot;\n&amp;quot;)
  name &amp;lt;- paste0(&amp;quot;article&amp;quot;, i, sep = &amp;#39;&amp;#39;)
  abst &amp;lt;- paste0(bib$ABSTRACT[[i]])
  tmp2 &amp;lt;- list(au=au, co =co, yr=yr,slu=slu, tit=tit , pub=pub, abst = abst, date = date)
  yamllist2[[name]] &amp;lt;- tmp2
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This loop prints out the markdown files into the &lt;code&gt;publications&lt;/code&gt; folder in my &lt;code&gt;blogdown&lt;/code&gt; project.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;for (i in 1:length(yamllist)) {
  cat(paste0(&amp;quot;---&amp;quot;, sep = &amp;quot;\n&amp;quot;),
      paste0(unlist(yamllist[i]), sep = &amp;quot;\n&amp;quot;), 
      paste0(&amp;quot;---&amp;quot;, sep = &amp;quot;\n&amp;quot;), 
      paste0(&amp;quot;\n&amp;quot;, yamllist2[[i]]$abst, sep = &amp;quot;\n&amp;quot;), file = paste0(&amp;quot;content/publications/&amp;quot;, yamllist2[[i]]$date, &amp;quot;-01-01-&amp;quot;, names(yamllist)[i], &amp;quot;.md&amp;quot;))
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Unfortunately, I was not able to get rid of the spacing before the final “—” in the YAML output, nor the spacings before the yaml fields title, author etc. I had to reopen the files in atom - for ease - and did a manual removal there. For files that did not work directly, I also used the “Update Metadata” adding from &lt;code&gt;bookdown&lt;/code&gt;. Took a while, but still a lot less than manually copying and pasting this information from the web or reference manager would have done.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
